@page "/profile"
@inherits PageBase
@using Atlas.Models.Public
@inject ApiService ApiService
@inject IStringLocalizer<PublicResources> Loc

@if (Model == null)
{
    <Loading />
}
else
{
    @AddComponent("MemberComponent", new Dictionary<string, object> { { "Model", Model } });
}

@code {
    private MemberPageModel Model { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Model = await ApiService.GetFromJsonAsync<MemberPageModel>("api/public/members");
    }
}