@page "/"
@page "/public"
@inherits PageBase
@using Atlas.Models.Public
@inject IStringLocalizer<PublicResources> Loc
@inject ApiService ApiService

@if (Model == null)
{
    <Loading />
}
else
{
    @AddComponent("IndexComponent", new Dictionary<string, object> {{ "Model", Model }});
}

@code {
    private IndexPageModel Model { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Model = await ApiService.GetFromJsonAsync<IndexPageModel>("api/public/index-model");
    }
}
